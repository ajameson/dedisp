<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>dedisp: src/dedisp.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>src/dedisp.h</h1><a href="dedisp_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  Copyright 2012 Ben Barsdell</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *  Licensed under the Apache License, Version 2.0 (the "License");</span>
<a name="l00005"></a>00005 <span class="comment"> *  you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment"> *  You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *  http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *  Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment"> *      distributed under the License is distributed on an "AS IS" BASIS,</span>
<a name="l00012"></a>00012 <span class="comment"> *      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment"> *  See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment"> *  limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment"> */</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/*</span>
<a name="l00018"></a>00018 <span class="comment">  dedisp.h</span>
<a name="l00019"></a>00019 <span class="comment">  By Ben Barsdell (2012)</span>
<a name="l00020"></a>00020 <span class="comment">  benbarsdell@gmail.com</span>
<a name="l00021"></a>00021 <span class="comment">  Originally developed while at the Centre for Astrophysics and Supercomputing,</span>
<a name="l00022"></a>00022 <span class="comment">  Swinburne University of Technology, Victoria, Australia</span>
<a name="l00023"></a>00023 <span class="comment">  </span>
<a name="l00024"></a>00024 <span class="comment">  Limitations:  in_nbits must be one of: 1, 2, 4, 8, 16, 32</span>
<a name="l00025"></a>00025 <span class="comment">               out_nbits must be one of: 8, 16, 32</span>
<a name="l00026"></a>00026 <span class="comment">*/</span>
<a name="l00027"></a>00027 
<a name="l00040"></a>00040 <span class="preprocessor">#ifndef DEDISP_H_INCLUDE_GUARD</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#define DEDISP_H_INCLUDE_GUARD</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">// Use C linkage to allow cross-language use of the library</span>
<a name="l00044"></a>00044 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00046"></a>00046 <span class="preprocessor">#endif</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a>00048 <span class="comment">// Types</span>
<a name="l00049"></a>00049 <span class="comment">// -----</span>
<a name="l00050"></a><a class="code" href="dedisp_8h.html#3ec44b5c18c1f4f3e0793625b4ed02c5">00050</a> <span class="keyword">typedef</span> <span class="keywordtype">float</span>                      <a class="code" href="dedisp_8h.html#3ec44b5c18c1f4f3e0793625b4ed02c5">dedisp_float</a>;
<a name="l00051"></a><a class="code" href="dedisp_8h.html#10879139ec0a01c4c6d0f09980b79011">00051</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>              <a class="code" href="dedisp_8h.html#10879139ec0a01c4c6d0f09980b79011">dedisp_byte</a>;
<a name="l00052"></a><a class="code" href="dedisp_8h.html#fdd16d54b665e37c99fcdb30bdad44f1">00052</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>              <a class="code" href="dedisp_8h.html#fdd16d54b665e37c99fcdb30bdad44f1">dedisp_size</a>;
<a name="l00053"></a><a class="code" href="dedisp_8h.html#2a2d0a26c21b1b7216c92527bd74e59e">00053</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span>                        <a class="code" href="dedisp_8h.html#2a2d0a26c21b1b7216c92527bd74e59e">dedisp_bool</a>;
<a name="l00054"></a><a class="code" href="dedisp_8h.html#692c8b46dffe868c96bfc937195345ef">00054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>dedisp_plan_struct* <a class="code" href="dedisp_8h.html#692c8b46dffe868c96bfc937195345ef">dedisp_plan</a>;
<a name="l00055"></a>00055 
<a name="l00070"></a>00070 <span class="comment">// Flags</span>
<a name="l00071"></a>00071 <span class="comment">// -----</span>
<a name="l00072"></a><a class="code" href="dedisp_8h.html#33ba86e5ae48594ba14ee6c63cb1704e">00072</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00073"></a>00073         DEDISP_USE_DEFAULT       = 0,
<a name="l00074"></a>00074         DEDISP_HOST_POINTERS     = 1 &lt;&lt; 1,
<a name="l00075"></a>00075         DEDISP_DEVICE_POINTERS   = 1 &lt;&lt; 2,
<a name="l00076"></a>00076         
<a name="l00077"></a>00077         DEDISP_WAIT              = 1 &lt;&lt; 3,
<a name="l00078"></a>00078         DEDISP_ASYNC             = 1 &lt;&lt; 4
<a name="l00079"></a>00079 } <a class="code" href="dedisp_8h.html#33ba86e5ae48594ba14ee6c63cb1704e">dedisp_flag</a>;
<a name="l00080"></a>00080 
<a name="l00090"></a>00090 <span class="comment">// Error codes</span>
<a name="l00091"></a>00091 <span class="comment">// -----------</span>
<a name="l00092"></a><a class="code" href="dedisp_8h.html#630970185d44d8785c03e421b2165db9">00092</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00093"></a>00093         DEDISP_NO_ERROR,
<a name="l00094"></a>00094         DEDISP_MEM_ALLOC_FAILED,
<a name="l00095"></a>00095         DEDISP_MEM_COPY_FAILED,
<a name="l00096"></a>00096         DEDISP_NCHANS_EXCEEDS_LIMIT,
<a name="l00097"></a>00097         DEDISP_INVALID_PLAN,
<a name="l00098"></a>00098         DEDISP_INVALID_POINTER,
<a name="l00099"></a>00099         DEDISP_INVALID_STRIDE,
<a name="l00100"></a>00100         DEDISP_NO_DM_LIST_SET,
<a name="l00101"></a>00101         DEDISP_TOO_FEW_NSAMPS,
<a name="l00102"></a>00102         DEDISP_INVALID_FLAG_COMBINATION,
<a name="l00103"></a>00103         DEDISP_UNSUPPORTED_IN_NBITS,
<a name="l00104"></a>00104         DEDISP_UNSUPPORTED_OUT_NBITS,
<a name="l00105"></a>00105         DEDISP_INVALID_DEVICE_INDEX,
<a name="l00106"></a>00106         DEDISP_DEVICE_ALREADY_SET,
<a name="l00107"></a>00107         DEDISP_PRIOR_GPU_ERROR,
<a name="l00108"></a>00108         DEDISP_INTERNAL_GPU_ERROR,
<a name="l00109"></a>00109         DEDISP_UNKNOWN_ERROR
<a name="l00110"></a>00110 } <a class="code" href="dedisp_8h.html#630970185d44d8785c03e421b2165db9">dedisp_error</a>;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 
<a name="l00134"></a>00134 <span class="comment">// Plan management</span>
<a name="l00135"></a>00135 <span class="comment">// ---------------</span>
<a name="l00150"></a>00150 <span class="comment"></span>dedisp_error <a class="code" href="dedisp_8h.html#b819f3a971be67eb6c2a1557415188f1">dedisp_create_plan</a>(dedisp_plan* plan,
<a name="l00151"></a>00151                                 dedisp_size  nchans,
<a name="l00152"></a>00152                                 dedisp_float dt,
<a name="l00153"></a>00153                                 dedisp_float f0,
<a name="l00154"></a>00154                                 dedisp_float df);
<a name="l00155"></a>00155 
<a name="l00160"></a>00160 <span class="keywordtype">void</span>         <a class="code" href="dedisp_8h.html#be4326517c7b93ad32fe3705d9fbf084">dedisp_destroy_plan</a>(dedisp_plan plan);
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">// Setters</span>
<a name="l00163"></a>00163 <span class="comment">// -------</span>
<a name="l00176"></a>00176 <span class="comment"></span>dedisp_error <a class="code" href="dedisp_8h.html#da97c83e766f1e6b2ff1d354a9f96de4">dedisp_set_device</a>(<span class="keywordtype">int</span> device_idx);
<a name="l00177"></a>00177 
<a name="l00187"></a>00187 dedisp_error <a class="code" href="dedisp_8h.html#8baf1e8487335512bed01b00530bd9d9">dedisp_set_gulp_size</a>(dedisp_plan plan,
<a name="l00188"></a>00188                                   dedisp_size gulp_size);
<a name="l00194"></a>00194 dedisp_size  <a class="code" href="dedisp_8h.html#4b3d74d48e84ceb4e324a896d14750cf">dedisp_get_gulp_size</a>(dedisp_plan plan);
<a name="l00208"></a>00208 dedisp_error <a class="code" href="dedisp_8h.html#02060c6d44366204598348d4cc7946f8">dedisp_set_killmask</a>(dedisp_plan        plan,
<a name="l00209"></a>00209                                  <span class="keyword">const</span> dedisp_bool* killmask);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">//dedisp_error dedisp_set_stream(dedisp_plan   plan,</span>
<a name="l00212"></a>00212 <span class="comment">//                               dedisp_stream stream);</span>
<a name="l00213"></a>00213 
<a name="l00228"></a>00228 dedisp_error <a class="code" href="dedisp_8h.html#174701ea1affefe6c6b27d91234ace89">dedisp_set_dm_list</a>(dedisp_plan         plan,
<a name="l00229"></a>00229                                 <span class="keyword">const</span> dedisp_float* dm_list,
<a name="l00230"></a>00230                                 dedisp_size         count);
<a name="l00247"></a>00247 dedisp_error <a class="code" href="dedisp_8h.html#128f39a882d1beedd48712e112b6b039">dedisp_generate_dm_list</a>(dedisp_plan  plan,
<a name="l00248"></a>00248                                      dedisp_float dm_start,
<a name="l00249"></a>00249                                      dedisp_float dm_end,
<a name="l00250"></a>00250                                      dedisp_float pulse_width,
<a name="l00251"></a>00251                                      dedisp_float tol);
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">// Getters</span>
<a name="l00254"></a>00254 <span class="comment">// -------</span>
<a name="l00262"></a>00262 <span class="comment"></span>dedisp_size         <a class="code" href="dedisp_8h.html#947c012731e052de54e437a1ffa97c89">dedisp_get_max_delay</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00267"></a>00267 dedisp_size         <a class="code" href="dedisp_8h.html#71d2d9270c88205623b1f823a2cb149e">dedisp_get_channel_count</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00272"></a>00272 dedisp_size         <a class="code" href="dedisp_8h.html#8b4aac60c709096ccb06cacd38b091df">dedisp_get_dm_count</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00278"></a>00278 <span class="keyword">const</span> dedisp_float* <a class="code" href="dedisp_8h.html#d360f62c1ca8a4aa694126e4842dfb30">dedisp_get_dm_list</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00284"></a>00284 <span class="keyword">const</span> dedisp_bool*  <a class="code" href="dedisp_8h.html#383c11548e6970318a763110861d2197">dedisp_get_killmask</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00290"></a>00290 dedisp_float        <a class="code" href="dedisp_8h.html#8a2884066e744914f894ccdb133197be">dedisp_get_dt</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00295"></a>00295 dedisp_float        <a class="code" href="dedisp_8h.html#3af97c8ae95c0accffcc188568046182">dedisp_get_f0</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00302"></a>00302 dedisp_float        <a class="code" href="dedisp_8h.html#592dcbaad189c6906643e441d2eb1d7c">dedisp_get_df</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00309"></a>00309 <span class="keyword">const</span> <span class="keywordtype">char</span>*         <a class="code" href="dedisp_8h.html#7c0200cf427ae2a373045676723df314">dedisp_get_error_string</a>(dedisp_error error);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 <span class="comment">// Plan execution</span>
<a name="l00312"></a>00312 <span class="comment">// --------------</span>
<a name="l00354"></a>00354 <span class="comment"></span>dedisp_error <a class="code" href="dedisp_8h.html#4c7d171691b7d69bf53db871568d5841">dedisp_execute</a>(<span class="keyword">const</span> dedisp_plan  plan,
<a name="l00355"></a>00355                             dedisp_size        nsamps,
<a name="l00356"></a>00356                             <span class="keyword">const</span> dedisp_byte* in,
<a name="l00357"></a>00357                             dedisp_size        in_nbits,
<a name="l00358"></a>00358                             dedisp_byte*       out,
<a name="l00359"></a>00359                             dedisp_size        out_nbits,
<a name="l00360"></a>00360                             <span class="keywordtype">unsigned</span>           flags);
<a name="l00403"></a>00403 dedisp_error <a class="code" href="dedisp_8h.html#e8422395d3899c685d6fea603686cf74">dedisp_execute_adv</a>(<span class="keyword">const</span> dedisp_plan  plan,
<a name="l00404"></a>00404                                 dedisp_size        nsamps,
<a name="l00405"></a>00405                                 <span class="keyword">const</span> dedisp_byte* in,
<a name="l00406"></a>00406                                 dedisp_size        in_nbits,
<a name="l00407"></a>00407                                 dedisp_size        in_stride,
<a name="l00408"></a>00408                                 dedisp_byte*       out,
<a name="l00409"></a>00409                                 dedisp_size        out_nbits,
<a name="l00410"></a>00410                                 dedisp_size        out_stride,
<a name="l00411"></a>00411                                 <span class="keywordtype">unsigned</span>           flags);
<a name="l00457"></a>00457 dedisp_error <a class="code" href="dedisp_8h.html#802bd0fc13d2a47c44a306a6a02d074e">dedisp_execute_guru</a>(<span class="keyword">const</span> dedisp_plan  plan,
<a name="l00458"></a>00458                                  dedisp_size        nsamps,
<a name="l00459"></a>00459                                  <span class="keyword">const</span> dedisp_byte* in,
<a name="l00460"></a>00460                                  dedisp_size        in_nbits,
<a name="l00461"></a>00461                                  dedisp_size        in_stride,
<a name="l00462"></a>00462                                  dedisp_byte*       out,
<a name="l00463"></a>00463                                  dedisp_size        out_nbits,
<a name="l00464"></a>00464                                  dedisp_size        out_stride,
<a name="l00465"></a>00465                                  dedisp_size        first_dm_idx,
<a name="l00466"></a>00466                                  dedisp_size        dm_count,
<a name="l00467"></a>00467                                  <span class="keywordtype">unsigned</span>           flags);
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 <span class="comment">// TODO: CHECK THE STATUS OF THIS FEATURE</span>
<a name="l00478"></a>00478 <span class="comment"></span>dedisp_error <a class="code" href="dedisp_8h.html#ec61942576a3c3b393e02ac1e6d10041">dedisp_sync</a>(<span class="keywordtype">void</span>);
<a name="l00479"></a>00479 
<a name="l00491"></a>00491 dedisp_error <a class="code" href="dedisp_8h.html#777569ec84a1ee01757d5a1999b1d7fc">dedisp_enable_adaptive_dt</a>(dedisp_plan  plan,
<a name="l00492"></a>00492                                        dedisp_float pulse_width,
<a name="l00493"></a>00493                                        dedisp_float tol);
<a name="l00497"></a>00497 dedisp_error <a class="code" href="dedisp_8h.html#d1578fdfb1e1e9b0d333b6b59284d37e">dedisp_disable_adaptive_dt</a>(dedisp_plan plan);
<a name="l00502"></a>00502 dedisp_bool  <a class="code" href="dedisp_8h.html#82197acdf80b55d3146d39ddd5d0a161">dedisp_using_adaptive_dt</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00514"></a>00514 <span class="keyword">const</span> dedisp_size* <a class="code" href="dedisp_8h.html#de4c023a0cacf045715b97bb1f79b17d">dedisp_get_dt_factors</a>(<span class="keyword">const</span> dedisp_plan plan);
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>} <span class="comment">// closing brace for extern "C"</span>
<a name="l00518"></a>00518 <span class="preprocessor">#endif</span>
<a name="l00519"></a>00519 <span class="preprocessor"></span>
<a name="l00520"></a>00520 <span class="preprocessor">#endif // DEDISP_H_INCLUDE_GUARD</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Apr 13 16:20:54 2012 for dedisp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
